<div class="container">
  <div class="row flex-column flex-md-row">
    <h4 class="mt-3 .text-primary-emphasis">Cart Items {{cartCount}}</h4>

    <div class="  col-lg-8 col-md-10 order-2 order-md-1  " data-bs-spy='scroll'>
      <div class="overflow-scroll" style="height: 80vh; w">
        {{#each products}}
        <div class="card mt-2 card-sm" style="max-width: 100vw;">
          <div class="row g-0">

            <div class="col-md-3">
              <img src="./product-images/{{this.product._id}}.jpg" class="img-fluid rounded-start" alt="...">
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title">{{this.product.Name}}</h5>
                <p class="card-text fs-6">{{this.product.description}}</p>
               
                <button class="btn" onclick="changeQuantity(' {{this._id}}','{{this.product._id}}',-1)">-</button>
                {{this.quantity}}
                <button onclick="changeQuantity(' {{this._id}}','{{this.product._id}}'1)" class="btn">+</button>
                <a class="btn btn-danger btn-sm" href=""> remove</a>
              </div>
            </div>
          </div>
        </div>
        {{/each}}
      </div>
    </div>

    <div class=" col p-0  col-lg-4 col-md-10 order-1 order-md-2 ">
      <div class="m-0 mt-lg-2 mt-md-2  rounded-3 border ps-0 p-3 ">
        <div class="container">

          <h4> Subtotal</h4>
          <table class="table">
            <thead>
              <tr>
                <th scope="col">
                  <p class="fw-normal mb-0">Item</p>
                </th>
                <th scope="col">
                  <p class="fw-normal mb-0">Quantity</p>
                </th>
                <th scope="col">
                  <p class="fw-normal mb-0">Price</p>
                </th>
                <th scope="col">
                  <p class="fw-normal mb-0">Total</p>
                </th>
              </tr>
            </thead>
            <tbody>
              {{#each products}}
              <tr>
                <td>{{this.Name}}</td>
                <td>{{this.Qty}}Qty</td>
                <td>{{this.Price}}</td>
                <td>$40.00</td>
              </tr>
              {{/each}}

            
            </tbody>
          </table>
          <h6>Your Cart Summary : $55.00</h6>
          <div class="row ">
            <div class="d-grid mt-3">
              <button class="btn btn-success btn-sm">Checkout</button>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>


<style>
  ::-webkit-scrollbar {
    width: 10px;
  }
</style>
<script>
  function changeQuantity(cartId, proId, count) {
    $.ajax!{
      url: '/change-product-quantity',
        data: {
        cart: cartId,
          product: proId,
            count: count,
      },
      method:'post',
      success: {response}{
        alert(response)
      }
    }
  }
</script>